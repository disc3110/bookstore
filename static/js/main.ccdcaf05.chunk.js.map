{"version":3,"sources":["pages/categories/Categories.js","redux/books/books.js","components/CreateBook.js","components/Book.js","components/ListOfBooks.js","pages/home/Home.js","components/Header.js","pages/NotMatch.js","App.js","redux/configureStore.js","index.js"],"names":["Categories","ADD_BOOK","REMOVE_BOOK","GET_BOOKS","baseURL","initialState","reducer","state","action","type","payload","filter","book","item_id","CreateNewBook","dispatch","useDispatch","titleNew","useRef","categoryNew","submitBookToStore","current","value","newBook","uuidv4","title","category","a","console","log","axios","post","ok","onSubmit","e","preventDefault","ref","label","placeholder","name","Book","props","className","onClick","delete","ListOfBooks","books","useSelector","useEffect","get","res","recivedData","Object","entries","data","map","bookCollection","Home","Header","links","id","path","text","link","to","activeClassName","exact","NotMatch","App","combineReducers","booksReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kOAMeA,EAJI,kBACjB,uD,0DCEIC,EAAW,2BACXC,EAAc,8BACdC,EAAY,4BACZC,EAAU,0GAEVC,EAAe,GA+DNC,EAbC,WAAmC,IAAlCC,EAAiC,uDAAzBF,EAAcG,EAAW,uCAChD,OAAQA,EAAOC,MACb,KAAKR,EACH,MAAM,GAAN,mBAAWM,GAAX,CAAkBC,EAAOE,UAC3B,KAAKR,EACH,OAAOK,EAAMI,QAAO,SAACC,GAAD,OAAUA,EAAKC,UAAYL,EAAOE,WACxD,KAAKP,EACH,OAAOK,EAAOE,QAChB,QACE,OAAOH,IChCEO,EAhCO,WACpB,IAAMC,EAAWC,cACXC,EAAWC,iBAAO,MAClBC,EAAcD,iBAAO,MACrBE,EAAoB,WACxB,GAAIH,EAASI,QAAQC,OAASH,EAAYE,QAAQC,MAAO,CAAC,IAAD,IACjDC,EAAU,CACdV,QAASW,cACTC,MAAK,OAAER,QAAF,IAAEA,GAAF,UAAEA,EAAUI,eAAZ,aAAE,EAAmBC,MAC1BI,SAAQ,OAAEP,QAAF,IAAEA,GAAF,UAAEA,EAAaE,eAAf,aAAE,EAAsBC,OAElCP,GDJkBL,ECIDa,EDJA,uCAAa,WAAOR,GAAP,mBAAAY,EAAA,6DAClCC,QAAQC,IAAI,mBACZD,QAAQC,IAAInB,GACJG,EAA6BH,EAA7BG,QAASY,EAAoBf,EAApBe,MAAOC,EAAahB,EAAbgB,SAHU,kBAKTI,IAAMC,KAAK3B,EAAS,CAAES,UAASY,QAAOC,aAL7B,cAMnBM,IACXjB,EAAS,CACPN,KAAMR,EACNS,YAT4B,kDAahCkB,QAAQC,IAAR,MAbgC,0DAAb,4DAACnB,GCatB,OACE,gCACE,gDACA,uBAAMuB,SATW,SAACC,GACpBA,EAAEC,iBACFf,IACAH,EAASI,QAAQC,MAAQ,GACzBH,EAAYE,QAAQC,MAAQ,IAK1B,UACE,uBAAOc,IAAKnB,EAAUoB,MAAM,QAAQ5B,KAAK,OAAO6B,YAAY,eAC5D,uBAAOF,IAAKjB,EAAakB,MAAM,WAAW5B,KAAK,OAAO6B,YAAY,kBAClE,uBAAOD,MAAM,SAAS5B,KAAK,SAAS8B,KAAK,SAASjB,MAAM,kBCEjDkB,EA5BF,SAACC,GAEZ,IAAQ5B,EAA6B4B,EAA7B5B,QAASY,EAAoBgB,EAApBhB,MAAOC,EAAae,EAAbf,SAMlBX,EAAWC,cAIjB,OACE,qBAAI0B,UAAU,OAAd,UACE,+BACGjB,EACA,IAFH,KAIG,IACAC,EACA,IANH,cASA,6BAAI,wBAAQjB,KAAK,SAASiC,UAAU,wBAAwB,UAAQ,IAAIC,QAdhD,WFeJ,IAACjC,EEdvBK,GFcuBL,EEdHG,EFcE,uCAAa,WAAOE,GAAP,SAAAY,EAAA,+EAEZG,IAAMc,OAAN,UAAgBxC,EAAhB,YAA2BM,GAAW,CAAEG,QAASH,IAFrC,cAGtBsB,IACXjB,EAAS,CACPN,KAAMP,EACNQ,YAN+B,gDAUnCkB,QAAQC,IAAR,MAVmC,yDAAb,yDEDhB,0BCAKgB,EAvBK,WAClB,IAAMC,EAAQC,aAAY,SAACxC,GAAD,OAAWA,EAAMuC,SACrC/B,EAAWC,cACjBgC,qBAAU,WACRjC,EHkCoB,uCAAM,WAAOA,GAAP,mBAAAY,EAAA,+EAERG,IAAMmB,IAAI7C,GAFF,OAEpB8C,EAFoB,OAGpBC,EAAcC,OAAOC,QAAQH,EAAII,MACjCR,EAAQK,EAAYI,KAAI,SAAC3C,GAE7B,MADe,CAAEC,QAASD,EAAK,GAAIa,MAAOb,EAAK,GAAG,GAAGa,MAAOC,SAAUd,EAAK,GAAG,GAAGc,aAGnFX,EAAS,CACPN,KAAMN,EACNO,QAASoC,IAVe,gDAa1BlB,QAAQC,IAAR,MAb0B,yDAAN,yDGjCnB,IACH,IAAqB2B,EAQrB,OACE,gCACE,iCAViBA,EAWFV,EAXqBU,EAAeD,KAAI,SAAC3C,GAAD,OACzD,cAAC,EAAD,CAEEC,QAASD,EAAKC,QACdY,MAAOb,EAAKa,MACZC,SAAUd,EAAKc,UAHVd,EAAKC,kBCHD4C,EANF,kBACX,gCACE,cAAC,EAAD,IACA,cAAC,EAAD,QCmCWC,G,MAtCA,WACb,IAAMC,EAAQ,CACZ,CACEC,GAAI,EACJC,KAAM,IACNC,KAAM,SAER,CACEF,GAAI,EACJC,KAAM,cACNC,KAAM,eAgBV,OACE,mCACE,6CACA,8BACE,6BAhBoBH,EAAMJ,KAAI,SAACQ,GAAD,OAClC,6BACE,cAAC,IAAD,CACEC,GAAID,EAAKF,KACTI,gBAAgB,cAChBC,OAAK,EAHP,SAKGH,EAAKD,QANDC,EAAKH,gBCVHO,EAPE,kBACf,8BACE,2DC2BWC,EAnBH,kBACV,8BACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOF,OAAK,EAACL,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,cAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,e,gBClBJvD,EAAU+D,YAAgB,CAC9BvB,MAAOwB,IAIHC,EAAmBC,OAAOC,sCAAwCC,IAMzDC,EALDC,YACZtE,EACAiE,EAAiBM,YAAgBC,OCRnCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJO,SAASC,eAAe,W","file":"static/js/main.ccdcaf05.chunk.js","sourcesContent":["import React from 'react';\n\nconst Categories = () => (\n  <h1> Under Construction </h1>\n);\n\nexport default Categories;\n","/* eslint-disable arrow-body-style */\n/* eslint-disable no-console */\n/* eslint-disable camelcase */\nimport axios from 'axios';\n\nconst ADD_BOOK = 'bookStore/books/ADD_BOOK';\nconst REMOVE_BOOK = 'bookStore/books/REMOVE_BOOK';\nconst GET_BOOKS = 'bookStore/books/GET_BOOKS';\nconst baseURL = 'https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/tFqilQVTaX9WFG4vOrMg/books';\n\nconst initialState = [];\n\nexport const addBook = (payload) => async (dispatch) => {\n  console.log('ive been called');\n  console.log(payload);\n  const { item_id, title, category } = payload;\n  try {\n    const response = await axios.post(baseURL, { item_id, title, category });\n    if (response.ok) {\n      dispatch({\n        type: ADD_BOOK,\n        payload,\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const removeBook = (payload) => async (dispatch) => {\n  try {\n    const response = await axios.delete(`${baseURL}/${payload}`, { item_id: payload });\n    if (response.ok) {\n      dispatch({\n        type: REMOVE_BOOK,\n        payload,\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getBooks = () => async (dispatch) => {\n  try {\n    const res = await axios.get(baseURL);\n    const recivedData = Object.entries(res.data);\n    const books = recivedData.map((book) => {\n      const newObj = { item_id: book[0], title: book[1][0].title, category: book[1][0].category };\n      return newObj;\n    });\n    dispatch({\n      type: GET_BOOKS,\n      payload: books,\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_BOOK:\n      return [...state, action.payload];\n    case REMOVE_BOOK:\n      return state.filter((book) => book.item_id !== action.payload);\n    case GET_BOOKS:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React, { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { v4 as uuidv4 } from 'uuid';\nimport { addBook } from '../redux/books/books';\n\nconst CreateNewBook = () => {\n  const dispatch = useDispatch();\n  const titleNew = useRef(null);\n  const categoryNew = useRef(null);\n  const submitBookToStore = () => {\n    if (titleNew.current.value && categoryNew.current.value) {\n      const newBook = {\n        item_id: uuidv4(),\n        title: titleNew?.current?.value,\n        category: categoryNew?.current?.value,\n      };\n      dispatch(addBook(newBook));\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    submitBookToStore();\n    titleNew.current.value = '';\n    categoryNew.current.value = '';\n  };\n  return (\n    <div>\n      <h3>Add a new Book</h3>\n      <form onSubmit={handleSubmit}>\n        <input ref={titleNew} label=\"Title\" type=\"text\" placeholder=\"Book title\" />\n        <input ref={categoryNew} label=\"Category\" type=\"text\" placeholder=\"Book category\" />\n        <input label=\"Create\" type=\"submit\" name=\"Create\" value=\"Create\" />\n      </form>\n    </div>\n  );\n};\n\nexport default CreateNewBook;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { removeBook } from '../redux/books/books';\n\nconst Book = (props) => {\n  // eslint-disable-next-line camelcase\n  const { item_id, title, category } = props;\n  Book.propTypes = {\n    item_id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    category: PropTypes.string.isRequired,\n  };\n  const dispatch = useDispatch();\n  const deleteBookFromStore = () => {\n    dispatch(removeBook(item_id));\n  };\n  return (\n    <tr className=\"book\">\n      <td>\n        {title}\n        {' '}\n        of\n        {' '}\n        {category}\n        {' '}\n        category\n      </td>\n      <td><button type=\"submit\" className=\"btn btn-sm btn-danger\" data-id=\"0\" onClick={deleteBookFromStore}>Remove</button></td>\n    </tr>\n  );\n};\n\nexport default Book;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Book from './Book';\nimport { getBooks } from '../redux/books/books';\n\nconst ListOfBooks = () => {\n  const books = useSelector((state) => state.books);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getBooks());\n  }, []);\n  const renderBooks = (bookCollection) => bookCollection.map((book) => (\n    <Book\n      key={book.item_id}\n      item_id={book.item_id}\n      title={book.title}\n      category={book.category}\n    />\n  ));\n  return (\n    <table>\n      <tbody>\n        {renderBooks(books)}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfBooks;\n","import React from 'react';\nimport CreateNewBook from '../../components/CreateBook';\nimport ListOfBooks from '../../components/ListOfBooks';\n\nconst Home = () => (\n  <div>\n    <CreateNewBook />\n    <ListOfBooks />\n  </div>\n);\nexport default Home;\n","import React from 'react';\nimport '../style/Header.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = () => {\n  const links = [\n    {\n      id: 1,\n      path: '/',\n      text: 'Books',\n    },\n    {\n      id: 2,\n      path: '/categories',\n      text: 'Categories',\n    },\n  ];\n\n  const createLinks = () => links.map((link) => (\n    <li key={link.id}>\n      <NavLink\n        to={link.path}\n        activeClassName=\"active-link\"\n        exact\n      >\n        {link.text}\n      </NavLink>\n    </li>\n  ));\n\n  return (\n    <header>\n      <h1> Bookstore </h1>\n      <nav>\n        <ul>\n          {createLinks()}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nconst NotMatch = () => (\n  <div>\n    <h3>\n      No match for this page\n    </h3>\n  </div>\n);\nexport default NotMatch;\n","import React from 'react';\nimport {\n  Switch,\n  Route,\n  BrowserRouter as Router,\n} from 'react-router-dom';\nimport './style/app.css';\nimport Categories from './pages/categories/Categories';\nimport Home from './pages/home/Home';\nimport Header from './components/Header';\nimport NotMatch from './pages/NotMatch';\n\nconst App = () => (\n  <div>\n    <Router>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/categories\">\n          <Categories />\n        </Route>\n        <Route path=\"*\">\n          <NotMatch />\n        </Route>\n      </Switch>\n    </Router>\n  </div>\n);\n\nexport default App;\n","import {\n  createStore, combineReducers, applyMiddleware, compose,\n} from 'redux';\nimport thunk from 'redux-thunk';\nimport booksReducer from './books/books';\n\nconst reducer = combineReducers({\n  books: booksReducer,\n  // additional reducers could be added here\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducer,\n  composeEnhancers(applyMiddleware(thunk)),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './redux/configureStore';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}